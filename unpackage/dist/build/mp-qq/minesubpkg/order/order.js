(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["minesubpkg/order/order"],{"02e7":function(e,t,r){"use strict";r.r(t);var n=r("1fac"),a=r("73bf");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("3134");var u,c=r("f0c5"),d=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"7b2ba601",null,!1,n["a"],u);t["default"]=d.exports},"1fac":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return n}));var n={myGood:function(){return r.e("components/my-good/my-good").then(r.bind(null,"b389"))}},a=function(){var e=this,t=e.$createElement;e._self._c},o=[]},2641:function(e,t,r){},3134:function(e,t,r){"use strict";var n=r("2641"),a=r.n(n);a.a},"44bb":function(e,t,r){"use strict";(function(e){r("2494");n(r("66fd"));var t=n(r("02e7"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("a821")["createPage"])},"4f48":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r("a34a")),a=c(r("8d39")),o=r("2f62"),u=r("dc9a");function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,n,a,o,u){try{var c=e[o](u),d=c.value}catch(s){return void r(s)}c.done?t(d):Promise.resolve(d).then(n,a)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){d(o,n,a,u,c,"next",e)}function c(e){d(o,n,a,u,c,"throw",e)}u(void 0)}))}}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={mixins:[a.default],data:function(){return{orderItems:[],orderBase:{},appAddressList:[],orderId:""}},computed:f({},(0,o.mapState)("m_user",["address"])),onLoad:function(t){var r=this;return s(n.default.mark((function a(){var o,c;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r.orderId=t.orderId,n.next=3,(0,u.getPreOrderById)(t.orderId);case 3:if(o=n.sent,c=o.data,c.success){n.next=7;break}return n.abrupt("return",e.$showMsg());case 7:c.data.orderItems.forEach((function(e){e.productAttr=JSON.parse(e.productAttr)})),r.orderItems=c.data.orderItems,r.orderBase=c.data.orderBase;case 10:case"end":return n.stop()}}),a)})))()},methods:f(f({},(0,o.mapMutations)("m_user",["updateAddress"])),{},{payment:function(){var t=this;return s(n.default.mark((function r(){var a,o,c;return n.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.address.id){r.next=12;break}return a={addressId:t.address.id,orderId:t.orderId,orderItemList:t.orderItems.map((function(e){return{cartId:e.id,productId:e.productId,productQuantity:e.productQuantity,productSkuId:e.productSkuId}})),payType:0,sourceType:t.orderBase.sourceType},r.next=4,(0,u.addConfirmOrder)(a);case 4:if(o=r.sent,c=o.data,c.success){r.next=8;break}return r.abrupt("return",e.$showMsg({title:c.message}));case 8:e.$showMsg({title:"确认付款成功",duration:2e3}),setTimeout((function(){t.delayNavigate("navigateTo","../payment/payment?orderId=".concat(c.data.orderId),"支付页面")}),2e3),r.next=13;break;case 12:e.$showMsg({title:"请先选择收货地址"});case 13:case"end":return r.stop()}}),r)})))()}})};t.default=l}).call(this,r("a821")["default"])},"73bf":function(e,t,r){"use strict";r.r(t);var n=r("4f48"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a}},[["44bb","common/runtime","common/vendor"]]]);