(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["minesubpkg/order/order"],{"02e7":function(e,t,r){"use strict";r.r(t);var n=r("7763"),o=r("73bf");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("de5e");var u,d=r("f0c5"),c=Object(d["a"])(o["default"],n["b"],n["c"],!1,null,"6e86a24f",null,!1,n["a"],u);t["default"]=c.exports},"44bb":function(e,t,r){"use strict";(function(e){r("2494");n(r("66fd"));var t=n(r("02e7"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("543d")["createPage"])},"4f48":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r("a34a")),o=d(r("8d39")),a=r("2f62"),u=r("dc9a");function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,n,o,a,u){try{var d=e[a](u),c=d.value}catch(s){return void r(s)}d.done?t(c):Promise.resolve(c).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){c(a,n,o,u,d,"next",e)}function d(e){c(a,n,o,u,d,"throw",e)}u(void 0)}))}}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={mixins:[o.default],data:function(){return{orderItems:[],orderBase:{},appAddressList:[],orderId:""}},computed:f({},(0,a.mapState)("m_user",["address"])),onLoad:function(t){var r=this;return s(n.default.mark((function o(){var a,d;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r.orderId=t.orderId,n.next=3,(0,u.getPreOrderById)(t.orderId);case 3:if(a=n.sent,d=a.data,d.success){n.next=7;break}return n.abrupt("return",e.$showMsg());case 7:d.data.orderItems.forEach((function(e){e.productAttr=JSON.parse(e.productAttr)})),r.orderItems=d.data.orderItems,r.orderBase=d.data.orderBase;case 10:case"end":return n.stop()}}),o)})))()},methods:f(f({},(0,a.mapMutations)("m_user",["updateAddress"])),{},{payment:function(){var t=this;return s(n.default.mark((function r(){var o,a,d;return n.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.address.id){r.next=12;break}return o={addressId:t.address.id,orderId:t.orderId,orderItemList:t.orderItems.map((function(e){return{cartId:e.id,productId:e.productId,productQuantity:e.productQuantity,productSkuId:e.productSkuId}})),payType:0,sourceType:t.orderBase.sourceType},r.next=4,(0,u.addConfirmOrder)(o);case 4:if(a=r.sent,d=a.data,d.success){r.next=8;break}return r.abrupt("return",e.$showMsg({title:d.message}));case 8:e.$showMsg({title:"确认付款成功",duration:2e3}),setTimeout((function(){t.delayNavigate("navigateTo","../payment/payment?orderId=".concat(d.data.orderId),"支付页面")}),2e3),r.next=13;break;case 12:e.$showMsg({title:"请先选择收货地址"});case 13:case"end":return r.stop()}}),r)})))()}})};t.default=l}).call(this,r("543d")["default"])},"73bf":function(e,t,r){"use strict";r.r(t);var n=r("4f48"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},7763:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return n}));var n={myGood:function(){return r.e("components/my-good/my-good").then(r.bind(null,"b389"))}},o=function(){var e=this,t=e.$createElement;e._self._c},a=[]},de5e:function(e,t,r){"use strict";var n=r("f8b2"),o=r.n(n);o.a},f8b2:function(e,t,r){}},[["44bb","common/runtime","common/vendor"]]]);